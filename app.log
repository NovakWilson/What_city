2020-04-23 18:55:15,074 INFO werkzeug  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2020-04-23 18:55:24,425 INFO werkzeug  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2020-04-23 19:00:22,903 INFO werkzeug  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2020-04-23 19:00:25,336 INFO root Request: {'request': {'nlu': {'tokens': ['москва', 'париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'париж'}}], 'intents': {}}, 'original_utterance': 'Артем'}, 'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0'}
2020-04-23 19:00:25,543 ERROR app Exception on /post [POST]
Traceback (most recent call last):
  File "C:\Users\NovakWilson\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\NovakWilson\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\NovakWilson\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\NovakWilson\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\NovakWilson\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\NovakWilson\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "D:/Artem/which_city/app.py", line 27, in main
    handle_dialog(response, request.json)
  File "D:/Artem/which_city/app.py", line 47, in handle_dialog
    cities[0]), get_coordinates(cities[1]))
  File "D:\Artem\which_city\geo.py", line 16, in get_coordinates
    point_str = json['response']['GeoObjectCollection']['featureMember'][0]['GeoObject']['Point']['pos']
KeyError: 'response'
2020-04-23 19:00:25,548 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:00:25] "[35m[1mPOST /post HTTP/1.1[0m" 500 -
2020-04-23 19:01:10,054 INFO werkzeug  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2020-04-23 19:02:15,612 INFO werkzeug  * Restarting with stat
2020-04-23 19:02:15,968 WARNING werkzeug  * Debugger is active!
2020-04-23 19:02:15,976 INFO werkzeug  * Debugger PIN: 325-596-469
2020-04-23 19:02:15,981 INFO werkzeug  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2020-04-23 19:02:44,470 INFO werkzeug  * Restarting with stat
2020-04-23 19:02:44,821 WARNING werkzeug  * Debugger is active!
2020-04-23 19:02:44,827 INFO werkzeug  * Debugger PIN: 325-596-469
2020-04-23 19:02:44,832 INFO werkzeug  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2020-04-23 19:02:57,982 INFO root Request: {'request': {'nlu': {'tokens': ['москва', 'париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'париж'}}], 'intents': {}}, 'original_utterance': 'Артем'}, 'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0'}
2020-04-23 19:02:58,112 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:02:58] "[35m[1mPOST /post HTTP/1.1[0m" 500 -
2020-04-23 19:04:19,052 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:04:19] "[31m[1mPOST /post HTTP/1.1[0m" 400 -
2020-04-23 19:04:37,441 INFO root Request: {'request': {'nlu': {'tokens': ['москва', 'париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}], 'intents': {}}, 'original_utterance': 'Артем'}, 'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0'}
2020-04-23 19:04:37,606 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:04:37] "[35m[1mPOST /post HTTP/1.1[0m" 500 -
2020-04-23 19:06:45,153 INFO werkzeug  * Detected change in 'D:\\Artem\\which_city\\geo.py', reloading
2020-04-23 19:06:45,175 INFO werkzeug  * Restarting with stat
2020-04-23 19:11:13,966 INFO werkzeug  * Restarting with stat
2020-04-23 19:11:14,325 WARNING werkzeug  * Debugger is active!
2020-04-23 19:11:14,331 INFO werkzeug  * Debugger PIN: 325-596-469
2020-04-23 19:11:14,337 INFO werkzeug  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2020-04-23 19:11:53,441 INFO werkzeug  * Restarting with stat
2020-04-23 19:11:53,817 WARNING werkzeug  * Debugger is active!
2020-04-23 19:11:53,822 INFO werkzeug  * Debugger PIN: 325-596-469
2020-04-23 19:11:53,829 INFO werkzeug  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2020-04-23 19:11:56,053 INFO root Request: {'request': {'nlu': {'tokens': ['москва', 'париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'париж'}}], 'intents': {}}, 'original_utterance': 'Артем'}, 'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0'}
2020-04-23 19:11:56,427 INFO root Request: {'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Расстояние между этими городами: 2487 км.'}}
2020-04-23 19:11:56,427 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:11:56] "[37mPOST /post HTTP/1.1[0m" 200 -
2020-04-23 19:12:36,587 INFO root Request: {'request': {'nlu': {'tokens': ['москва', 'париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'париж'}}], 'intents': {}}, 'original_utterance': 'Артем'}, 'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0'}
2020-04-23 19:12:36,773 INFO root Request: {'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Этот город в стране - Франция'}}
2020-04-23 19:12:36,773 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:12:36] "[37mPOST /post HTTP/1.1[0m" 200 -
2020-04-23 19:13:00,734 INFO root Request: {'request': {'nlu': {'tokens': ['москва', 'париж'], 'entities': [{'type': 'YANDEX.GEO', 'tokens': {'start': 0, 'end': 1}, 'value': {'city': 'москва'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'париж'}}, {'type': 'YANDEX.GEO', 'tokens': {'start': 1, 'end': 2}, 'value': {'city': 'париж'}}], 'intents': {}}, 'original_utterance': 'Артем'}, 'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0'}
2020-04-23 19:13:00,734 INFO root Request: {'session': {'new': False, 'message_id': 4, 'session_id': '2eac4854-fce721f3-b845abba-20d60', 'skill_id': '3ad36498-f5rd-4079-a14b-788652932056', 'user_id': 'AC9WC3DF6FCE052E45A4566A48E6B7193774B84814CE49A922E163B8B29881DC'}, 'version': '1.0', 'response': {'end_session': False, 'text': 'Слишком много городов!'}}
2020-04-23 19:13:00,734 INFO werkzeug 127.0.0.1 - - [23/Apr/2020 19:13:00] "[37mPOST /post HTTP/1.1[0m" 200 -
2020-04-23 19:25:39,852 INFO werkzeug  * Detected change in 'D:\\Artem\\which_city\\app.py', reloading
2020-04-23 19:25:39,870 INFO werkzeug  * Restarting with stat
2020-04-23 19:25:40,304 WARNING werkzeug  * Debugger is active!
2020-04-23 19:25:40,309 INFO werkzeug  * Debugger PIN: 325-596-469
2020-04-23 19:25:40,316 INFO werkzeug  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
2020-04-23 19:26:06,557 INFO werkzeug  * Detected change in 'D:\\Artem\\which_city\\app.py', reloading
2020-04-23 19:26:06,575 INFO werkzeug  * Restarting with stat
2020-04-23 19:26:07,021 WARNING werkzeug  * Debugger is active!
2020-04-23 19:26:07,027 INFO werkzeug  * Debugger PIN: 325-596-469
2020-04-23 19:26:07,034 INFO werkzeug  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
